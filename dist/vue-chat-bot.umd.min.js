(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-chat-bot"]=e(require("vue")):t["vue-chat-bot"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"24fb":function(t,e,n){"use strict";function o(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"===typeof btoa){var i=a(o),s=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(s).concat([i]).join("\n")}return[n].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=o(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"===typeof t&&(t=[[null,t,""]]);var a={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var r=0;r<t.length;r++){var l=[].concat(t[r]);o&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},4647:function(t,e,n){"use strict";n("a740")},"499e":function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},a=0;a<e.length;a++){var i=e[a],s=i[0],r=i[1],l=i[2],b=i[3],c={id:t+":"+a,css:r,media:l,sourceMap:b};o[s]?o[s].parts.push(c):n.push(o[s]={id:s,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return m}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},s=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,b=!1,c=function(){},u=null,p="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,n,a){b=n,u=a||{};var s=o(t,e);return f(s),function(e){for(var n=[],a=0;a<s.length;a++){var r=s[a],l=i[r.id];l.refs--,n.push(l)}e?(s=o(t,e),f(s)):s=[];for(a=0;a<n.length;a++){l=n[a];if(0===l.refs){for(var b=0;b<l.parts.length;b++)l.parts[b]();delete i[l.id]}}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(h(n.parts[a]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(h(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function h(t){var e,n,o=document.querySelector("style["+p+'~="'+t.id+'"]');if(o){if(b)return c;o.parentNode.removeChild(o)}if(d){var a=l++;o=r||(r=g()),e=y.bind(null,o,a,!1),n=y.bind(null,o,a,!0)}else o=g(),e=k.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,o){var a=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=_(e,a);else{var i=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function k(t,e){var n=e.css,o=e.media,a=e.sourceMap;if(o&&t.setAttribute("media",o),u.ssrId&&t.setAttribute(p,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},"8bbf":function(e,n){e.exports=t},a740:function(t,e,n){var o=n("b676");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("499e").default;a("28740afc",o,!0,{sourceMap:!1,shadowMode:!1})},b676:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'.qkb-bot-ui{position:fixed;z-index:1000;bottom:1.5rem;right:1.5rem;display:flex;flex-direction:column;font-size:1rem}.qkb-bot-ui *{box-sizing:border-box}@media screen and (max-width:600px){.qkb-bot-ui{right:0;left:0}}.qkb-preload-image{position:absolute;top:0;left:0;width:0;height:0;overflow:hidden}dl,ol,ul{padding-left:1rem}p{margin:.3rem 0!important;padding:0!important}::-webkit-scrollbar{height:1rem;width:.4rem}::-webkit-scrollbar-thumb{--tw-border-opacity:1;background-color:rgba(164,164,175,.8);border-color:rgba(255,255,255,var(--tw-border-opacity));border-radius:9999px;border-width:1px}::-webkit-scrollbar-track{background-color:transparent;border-radius:9999px}pre ::-webkit-scrollbar{height:.4rem!important;width:.4rem!important}pre ::-webkit-scrollbar-thumb{--tw-border-opacity:1!important;background-color:rgba(164,164,175,.8)!important;border-color:rgba(255,255,255,var(--tw-border-opacity))!important;border-radius:9999px!important;border-width:1px!important}.qkb-bot-ui--animate .qkb-fadeUp-enter-active,.qkb-bot-ui--animate .qkb-fadeUp-leave-active{opacity:1;transform:translate(0);transition:opacity .15s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-fadeUp-enter,.qkb-bot-ui--animate .qkb-fadeUp-leave-to{transform:translateY(20px);opacity:0}.qkb-bot-ui--animate .qkb-scaleUp-enter-active,.qkb-bot-ui--animate .qkb-scaleUp-leave-active{opacity:1;transform:scale(1);transition:opacity .1s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-scaleUp-enter,.qkb-bot-ui--animate .qkb-scaleUp-leave-to{transform:scale(0);opacity:0}@keyframes qkbJump{0%{transform:translateY(2px)}to{transform:translateY(-1px)}}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before,.qkb-msg-bubble__typing-indicator span{transform:translateY(2px);animation:qkbJump .35s ease infinite alternate}.qkb-msg-bubble__typing-indicator span{animation-delay:.175s}.qkb-msg-bubble__typing-indicator:after{animation-delay:.35s}.qkb-bot-bubble{align-self:flex-end;padding-right:16px}.qkb-bubble-btn{position:relative;display:block;padding:0;outline:0;border:0;overflow:hidden;box-shadow:none;border-radius:50%;color:#fff;fill:#fff;cursor:pointer;box-shadow:0 3px 5px 0 rgba(0,0,0,.15);transition:transform .2s ease-in-out}.qkb-bubble-btn:hover{transform:scale(1.1)}.qkb-bubble-btn-icon{display:block;position:absolute;top:50%;left:50%;width:27px;height:auto;margin:-11px 0 0 -13px;line-height:1em}.qkb-bubble-btn-icon.qkb-bubble-btn-icon--close{width:15px;margin:-7px 0 0 -7px}.qkb-board{display:flex;flex-direction:column;position:absolute;right:16px;overflow:hidden;width:376px;height:80vh;margin-bottom:10px;border-radius:8px;background-color:#fff;box-shadow:0 3px 30px 0 rgba(0,0,0,.15)}@media screen and (max-width:600px){.qkb-board{width:95%}}.qkb-board-full-screen{width:calc(100vw - 3.5rem)}@media screen and (max-width:600px){.qkb-board-full-screen{width:95%}}.apply-transition{transition:all .5s linear}.qkb-board-header{display:flex;flex:none;align-items:center;justify-content:space-between;height:50px;padding:5px 15px}.qkb-board-header__title{font-weight:700;font-size:.875rem}.qkb-board-header__full-screen-icon{cursor:pointer;font-size:1rem}.qkb-board-content{position:relative;flex-grow:1;overflow:hidden auto}.qkb-board-content__bubbles{min-height:100%;padding:1.5rem 1.25rem 1rem}.qkb-msg-bubble{display:flex;position:relative}.qkb-msg-avatar{flex-grow:1;flex:none;position:relative;overflow:hidden;border-radius:50%}.qkb-msg-avatar__img{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;background-size:cover;background-repeat:no-repeat}.qkb-msg-bubble__time{display:none;position:absolute;right:0;top:0;padding:2px 5px;margin-top:-5px;border-radius:5px;font-size:.625rem;color:#fff;background-color:#222;transform:translateY(-100%);opacity:0;transition:opacity .1s linear 1s}.qkb-msg-bubble--user .qkb-msg-bubble__time{display:block}.qkb-msg-bubble-component{font-size:.875rem}.qkb-msg-bubble-component:hover~.qkb-msg-bubble__time{opacity:.8}.qkb-msg-bubble-component--single-text{overflow:hidden}.qkb-msg-bubble-component__text-type{white-space:pre-line}.qkb-msg-bubble{padding-bottom:1rem}.qkb-msg-bubble.qkb-msg-bubble--bot .qkb-msg-bubble-component{margin-right:1.1rem;margin-left:.5rem}.qkb-msg-bubble.qkb-msg-bubble--user{justify-content:flex-end}.qkb-msg-bubble.qkb-msg-bubble--user .qkb-msg-bubble-component{margin-left:5rem}.qkb-msg-bubble-component__text{position:relative;padding:.75rem 1rem;border-radius:6px}.qkb-msg-bubble-component__text a{color:#fff;text-decoration:underline}.qkb-msg-bubble-component_copy-button-wrapper{display:flex;justify-content:flex-end}.qkb-msg-bubble-component_copy-button{overflow:hidden;margin:.3rem 0 0 0;padding:.15rem .4rem;cursor:pointer;outline:0;border:1px solid transparent;border-radius:13px;color:inherit;font-size:.7rem;font-family:inherit;text-decoration:none;background-color:transparent;transition:background-color .15s linear,color .1s linear}.qkb-msg-bubble-component__options-wrapper{display:flex;flex-wrap:wrap}.qkb-msg-bubble.qkb-msg-bubble--user .qkb-msg-bubble-component_copy-button-wrapper{display:flex;justify-content:flex-start}.qkb-mb-button-options__item{flex:0 0 auto}.qkb-mb-button-options__btn{display:block;overflow:hidden;position:relative;margin:.5rem .375rem 0 0;padding:.25rem 1rem;cursor:pointer;outline:0;border:1px solid transparent;border-radius:13px;color:inherit;font-size:.875rem;font-family:inherit;text-decoration:none;background-color:transparent;transition:background-color .15s linear,color .1s linear}.qkb-mb-button-options__btn span{position:relative;z-index:10}.qkb-msg-bubble__typing-indicator{position:relative;min-width:29px;opacity:.3}.qkb-msg-bubble__typing-indicator span{display:block;width:7px;height:7px;margin:0 auto;border-radius:50%}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before{content:"";display:block;position:absolute;top:0;width:7px;height:7px;border-radius:50%}.qkb-msg-bubble__typing-indicator:before{left:0}.qkb-msg-bubble__typing-indicator:after{right:0}.qkb-board-action{position:relative;display:flex;flex:none;height:-moz-fit-content;height:fit-content;padding:.45rem 1.25rem;border-top:1px solid #e6e6e6}.qkb-board-action--disabled:before{content:"";display:block;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%;opacity:.2;cursor:not-allowed}.qkb-board-action__wrapper{display:flex;width:100%;background-color:#fff}.qkb-board-action__msg-box{position:relative;flex-grow:1;padding:0 1rem 0 0}.qkb-board-action__input{height:100%;width:100%;max-height:300px;padding:0;font-size:.875rem;border:0;background-color:transparent;box-shadow:none;outline:0;color:#000;resize:none}.qkb-board-action__input[disabled=disabled]{pointer-events:none}.qkb-board-action__disable-text{display:flex;align-items:center;position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fff;font-size:.875rem}.qkb-board-action__extra{display:flex;flex:none;justify-content:center}.qkb-action-item{display:block;padding:0;outline:0;border:0;line-height:1;box-shadow:none;background-color:transparent;cursor:pointer;opacity:.6;transition:opacity .1s linear}.qkb-action-item:hover{opacity:1}.qkb-action-icon{width:16px;height:16px;line-height:1;fill:#666;color:#666;vertical-align:middle}.qkb-board-aciton--typing .qkb-action-item--send{opacity:1}',""]),t.exports=e},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"VueChatBot",(function(){return mt})),"undefined"!==typeof window){var o=window.document.currentScript,a=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-bot-ui",class:t.uiClasses},[e("transition",{attrs:{name:"qkb-fadeUp"}},[t.botActive?e("div",{ref:"board",staticClass:"qkb-board",class:t.fullScreenMode?"qkb-board-full-screen "+(t.optionsMain.animation?"apply-transition":""):t.optionsMain.animation?"apply-transition":""},[e("BoardHeader",{attrs:{"bot-title":t.optionsMain.botTitle,"full-screen-applied":t.fullScreenMode,"allow-fullscreen-mode":t.allowFullscreenMode},on:{"close-bot":t.botToggle,"apply-full-screen-mode":t.applyFullScreenMode},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0},{key:"headerExtraActions",fn:function(){return[t._t("headerExtraActions")]},proxy:!0}],null,!0)}),e("BoardContent",{attrs:{"bot-typing":t.botTyping,"show-copy-button":t.showCopyButton,"main-data":t.messages},scopedSlots:t._u([{key:"botTyping",fn:function(){return[t._t("botTyping")]},proxy:!0},{key:"extraContent",fn:function(){return[t._t("extraContent")]},proxy:!0}],null,!0)}),e("BoardAction",{attrs:{"input-disable":t.inputDisable,"input-placeholder":t.optionsMain.inputPlaceholder,"input-disable-placeholder":t.optionsMain.inputDisablePlaceholder},on:{"msg-send":t.sendMessage}})],1):t._e()]),e("div",{staticClass:"qkb-bot-bubble"},[e("button",{staticClass:"qkb-bubble-btn",on:{click:t.botToggle}},[t._t("bubbleButton",(function(){return[e("transition",{attrs:{name:"qkb-scaleUp"}},[t.botActive?e("CloseIcon",{key:"2",staticClass:"qkb-bubble-btn-icon qkb-bubble-btn-icon--close"}):e("BubbleIcon",{key:"1",staticClass:"qkb-bubble-btn-icon"})],1)]}))],2)]),e("AppStyle",{attrs:{options:t.optionsMain}}),e("div",{staticClass:"qkb-preload-image"},[t.optionsMain.botAvatarImg?e("div",{staticClass:"qkb-msg-avatar__img"}):t._e()])],1)},s=[],r=n("8bbf"),l=n.n(r);const b=new l.a;var c=b,u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-board-header"},[t._t("header",(function(){return[e("div",{staticClass:"qkb-board-header__title"},[t._v(t._s(t.botTitle))]),t._t("headerExtraActions"),t.allowFullscreenMode?e("div",{staticClass:"qkb-board-header__full-screen-icon",on:{click:t.applyFullScreenMode}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.fullScreenApplied,expression:"fullScreenApplied"}]},[e("Minimize")],1),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreenApplied,expression:"!fullScreenApplied"}]},[e("Maximize")],1)]):t._e()]}))],2)},p=[],d={functional:!0,render(t,e){const{_c:n,_v:o,data:a,children:i=[]}=e,{class:s,staticClass:r,style:l,staticStyle:b,attrs:c={},...u}=a;return n("svg",{class:[s,r],style:[l,b],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 64 64"},c),...u},i.concat([n("path",{attrs:{d:"M61 45v14a2.006 2.006 0 01-2 2H45a3 3 0 010-6h5.76L36.25 40.49a3 3 0 014.24-4.24L55 50.76V45a3 3 0 016 0zm0-40v14a3 3 0 01-6 0v-5.76L40.49 27.75a3 3 0 11-4.24-4.24L50.76 9H45a3 3 0 010-6h14a2.006 2.006 0 012 2zM27.75 23.51a3 3 0 11-4.24 4.24L9 13.24V19a3 3 0 01-6 0V5a2.006 2.006 0 012-2h14a3 3 0 010 6h-5.76zm0 12.74a2.994 2.994 0 010 4.24L13.24 55H19a3 3 0 010 6H5a2.006 2.006 0 01-2-2V45a3 3 0 016 0v5.76l14.51-14.51a3 3 0 014.24 0z",fill:"#fff","data-original":"#000000","data-name":"Fullscreen-Arrow-Arrows-Direction-User Interface"}})]))}},m={functional:!0,render(t,e){const{_c:n,_v:o,data:a,children:i=[]}=e,{class:s,staticClass:r,style:l,staticStyle:b,attrs:c={},...u}=a;return n("svg",{class:[s,r],style:[l,b],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 28.359 28.359"},c),...u},i.concat([n("path",{attrs:{d:"M21.935 19.368h3.235c.878-.003 1.589-.67 1.589-1.492 0-.824-.711-1.492-1.589-1.492h-6.764c-.879 0-1.59.668-1.591 1.492.001.019.007.041.007.061 0 .027-.007.057-.007.086v6.673c0 .864.666 1.566 1.49 1.566.822-.002 1.492-.702 1.492-1.566v-3.252l6.018 6.02a1.489 1.489 0 002.108 0c.58-.582.58-1.526 0-2.108l-5.988-5.988zm-10.392-1.492c-.002-.824-.712-1.492-1.592-1.492H3.189c-.877 0-1.593.668-1.593 1.492 0 .822.716 1.489 1.593 1.492h3.235L.433 25.354a1.5 1.5 0 000 2.108 1.489 1.489 0 002.108 0l6.019-6.02v3.252c0 .864.67 1.564 1.491 1.566.826 0 1.491-.702 1.491-1.566v-6.673c0-.029-.008-.059-.008-.086.001-.018.007-.04.009-.059zm5.272-7.397c.001.824.712 1.491 1.591 1.491h6.764c.878 0 1.589-.667 1.589-1.491 0-.822-.711-1.487-1.589-1.489h-3.235l5.989-5.987A1.49 1.49 0 1025.816.894l-6.018 6.02V3.662c0-.867-.67-1.568-1.492-1.568-.824 0-1.49.701-1.49 1.568v6.671c0 .03.007.057.007.087-.001.02-.007.036-.008.059zm-6.763-8.385c-.821 0-1.491.701-1.491 1.568v3.251L2.542.893a1.49 1.49 0 00-2.108 0 1.501 1.501 0 000 2.109l5.991 5.987H3.189c-.876.003-1.592.668-1.592 1.49 0 .824.716 1.491 1.593 1.491h6.761c.88 0 1.59-.667 1.592-1.491-.002-.023-.008-.039-.008-.06 0-.03.008-.057.008-.087v-6.67c0-.867-.665-1.568-1.491-1.568z",fill:"#fff","data-original":"#000000"}})]))}},f={components:{Maximize:d,Minimize:m},data(){return{isFullScreen:!1}},props:{botTitle:{type:String,default:"Chatbot"},fullScreenApplied:{type:Boolean,default:!1},allowFullscreenMode:{type:Boolean,default:!0}},methods:{applyFullScreenMode:function(){this.$emit("apply-full-screen-mode",!this.fullScreenApplied)}}},g=f;function h(t,e,n,o,a,i,s,r){var l,b="function"===typeof t?t.options:t;if(e&&(b.render=e,b.staticRenderFns=n,b._compiled=!0),o&&(b.functional=!0),i&&(b._scopeId="data-v-"+i),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},b._ssrRegister=l):a&&(l=r?function(){a.call(this,(b.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(b.functional){b._injectStyles=l;var c=b.render;b.render=function(t,e){return l.call(e),c(t,e)}}else{var u=b.beforeCreate;b.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:b}}var _=h(g,u,p,!1,null,null,null),y=_.exports,k=function(){var t=this,e=t._self._c;return e("div",{ref:"boardContent",staticClass:"qkb-board-content"},[e("div",{ref:"boardBubbles",staticClass:"qkb-board-content__bubbles"},[t._l(t.mainData,(function(n,o){return e("message-bubble",{key:o,attrs:{message:n,"show-copy-button":t.showCopyButton}})})),t.botTyping?e("div",{staticClass:"qkb-board-content__bot-typing"},[t._t("botTyping",(function(){return[e("message-typing")]}))],2):t._e()],2),t._t("extraContent")],2)},v=[],x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-msg-bubble",class:t.bubbleClass},["bot"===t.message.agent?e("div",{staticClass:"qkb-msg-avatar"},[e("div",{staticClass:"qkb-msg-avatar__img"},[t._v(" ")])]):t._e(),t.componentType?e(t.componentType,{tag:"component",attrs:{"main-data":t.message,"show-copy-button":t.showCopyButton}}):t._e(),t.message.createdAt?e("div",{staticClass:"qkb-msg-bubble__time"},[t._v(" "+t._s(t.message.createdAt)+" ")]):t._e()],1)},q=[],w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--single-text"},["text"===t.mainData.type?e("div",{ref:"inputToCopy",staticClass:"qkb-msg-bubble-component__text qkb-msg-bubble-component__text-type"},[t._v(" "+t._s(t.mainData.text)+" ")]):t._e(),["html","button"].includes(t.mainData.type)?e("div",{ref:"inputToCopy",staticClass:"qkb-msg-bubble-component__text",domProps:{innerHTML:t._s(t.mainData.text)}}):t._e(),t.showCopyButton?e("div",{staticClass:"qkb-msg-bubble-component_copy-button-wrapper"},[e("button",{staticClass:"qkb-msg-bubble-component_copy-button",on:{click:function(e){return e.preventDefault(),t.copyText.apply(null,arguments)}}},[t.copied?e("span",[t._v("copied")]):e("span",[t._v("copy")])])]):t._e()])},C=[],B={props:{mainData:{type:Object},showCopyButton:{type:Boolean,default:!0}},data(){return{copied:!1}},methods:{copyText:async function(){const t=this;this.copied=!0;const e=this.$refs.inputToCopy;navigator.clipboard.writeText(e.innerText).then(()=>{setTimeout(()=>{t.copied=!1},500)})}}},S=B,M=h(S,w,C,!1,null,null,null),T=M.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--button-options"},["text"===t.mainData.type?e("div",{staticClass:"qkb-msg-bubble-component__text"},[t._v(" "+t._s(t.mainData.text)+" ")]):t._e(),["html","button"].includes(t.mainData.type)?e("div",{staticClass:"qkb-msg-bubble-component__text",domProps:{innerHTML:t._s(t.mainData.text)}}):t._e(),e("div",{staticClass:"qkb-msg-bubble-component__options-wrapper"},t._l(t.mainData.options,(function(n,o){return e("div",{key:o,staticClass:"qkb-mb-button-options__item",class:{active:t.selectedItem===n.value}},["postback"===n.action?e("button",{staticClass:"qkb-mb-button-options__btn",on:{click:function(e){return t.selectOption(n)}}},[e("span",[t._v(t._s(n.text))])]):e("a",{staticClass:"qkb-mb-button-options__btn qkb-mb-button-options__url",attrs:{target:"_blank",href:n.value}},[e("span",[t._v(t._s(n.text))])])])})),0)])},z=[],A={props:{mainData:{type:Object}},data(){return{selectedItem:null}},methods:{selectOption(t){this.selectedItem=t,c.$emit("select-button-option",t)}}},D=A,j=h(D,$,z,!1,null,null,null),O=j.exports,L={components:{SingleText:T,ButtonOptions:O},props:{message:{type:Object},showCopyButton:{type:Boolean,default:!0}},computed:{bubbleClass(){return"bot"===this.message.agent?"qkb-msg-bubble--bot":"qkb-msg-bubble--user"},componentType(){let t="";switch(this.message.type){case"button":t="ButtonOptions";break;default:t="SingleText"}return t}}},U=L,I=h(U,x,q,!1,null,null,null),P=I.exports,H=function(){var t=this;t._self._c;return t._m(0)},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-msg-bubble qkb-msg-bubble--bot"},[e("div",{staticClass:"qkb-msg-avatar"},[e("div",{staticClass:"qkb-msg-avatar__img"},[t._v(" ")])]),e("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--typing"},[e("div",{staticClass:"qkb-msg-bubble-component__text"},[e("div",{staticClass:"qkb-msg-bubble__typing-indicator"},[e("span")])])])])}],V={},E=h(V,H,N,!1,null,null,null),F=E.exports,R={components:{MessageBubble:P,MessageTyping:F},props:{mainData:{type:Array,required:!0},botTyping:{type:Boolean,default:!1},showCopyButton:{type:Boolean,default:!0}},mounted(){this.updateScroll()},watch:{mainData:function(){this.$nextTick(()=>{this.updateScroll()})}},methods:{updateScroll(){const t=this.$refs.boardContent,e=this.$refs.boardBubbles.offsetHeight;t.scrollTop=e}}},Y=R,J=h(Y,k,v,!1,null,null,null),K=J.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-board-action",class:t.actionClass},[e("div",{staticClass:"qkb-board-action__wrapper"},[e("div",{staticClass:"qkb-board-action__msg-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"},{name:"textarea-autosize",rawName:"v-textarea-autosize"}],ref:"qkbMessageInput",staticClass:"qkb-board-action__input",attrs:{tabindex:"0",disabled:t.inputDisable,placeholder:t.inputPlaceholder},domProps:{value:t.messageText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage.apply(null,arguments))},input:function(e){e.target.composing||(t.messageText=e.target.value)}}}),t.inputDisablePlaceholder&&t.inputDisable?e("div",{staticClass:"qkb-board-action__disable-text"},[e("span",[t._v(t._s(t.inputDisablePlaceholder))])]):t._e()]),e("div",{staticClass:"qkb-board-action__extra"},[t._t("actions"),e("button",{staticClass:"qkb-action-item qkb-action-item--send",on:{click:t.sendMessage}},[t._t("sendButton",(function(){return[e("IconSend",{staticClass:"qkb-action-icon qkb-action-icon--send"})]}))],2)],2)])])},W=[],X={functional:!0,render(t,e){const{_c:n,_v:o,data:a,children:i=[]}=e,{class:s,staticClass:r,style:l,staticStyle:b,attrs:c={},...u}=a;return n("svg",{class:[s,r],style:[l,b],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488.721 488.721"},c),...u},i.concat([n("path",{attrs:{d:"M483.589 222.024a51.197 51.197 0 00-23.762-23.762L73.522 11.331C48.074-.998 17.451 9.638 5.122 35.086A51.2 51.2 0 003.669 76.44l67.174 167.902L3.669 412.261c-10.463 26.341 2.409 56.177 28.75 66.639a51.314 51.314 0 0018.712 3.624c7.754 0 15.408-1.75 22.391-5.12l386.304-186.982c25.45-12.326 36.089-42.949 23.763-68.398zM58.657 446.633c-8.484 4.107-18.691.559-22.798-7.925a17.065 17.065 0 01-.481-13.784l65.399-163.516h340.668L58.657 446.633zm42.121-219.358L35.379 63.759a16.64 16.64 0 014.215-18.773 16.537 16.537 0 0119.063-2.884l382.788 185.173H100.778z"}})]))}};const Q={name:"textarea-autosize",update:function(t){t="textarea"===t.tagName.toLowerCase()?t:t.querySelector("textarea");const e=parseFloat(getComputedStyle(t).getPropertyValue("min-height"));t.style.height="auto";let n=2*t.style.borderTopWidth;t.style.setProperty("height",(t.scrollHeight<e?e:t.scrollHeight+n)+"px","important")}};var Z={components:{IconSend:X},directives:{TextareaAutosize:Q},props:{inputPlaceholder:{type:String},inputDisablePlaceholder:{type:String},inputDisable:{type:Boolean,default:!1}},data(){return{messageText:null}},computed:{actionClass(){const t=[];return this.inputDisable&&t.push("qkb-board-action--disabled"),this.messageText&&t.push("qkb-board-aciton--typing"),t}},mounted(){this.$refs.qkbMessageInput.focus()},methods:{sendMessage(){this.messageText&&(this.$emit("msg-send",{text:this.messageText}),this.messageText=null)}}},tt=Z,et=h(tt,G,W,!1,null,null,null),nt=et.exports,ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qkb-bot-style",staticStyle:{display:"none"},domProps:{innerHTML:t._s(t.style)}})},at=[],it={props:["options"],computed:{style(){if(!this.options)return"";const{colorScheme:t,textColor:e,boardContentBg:n,bubbleBtnSize:o,botAvatarImg:a,botAvatarSize:i,inputDisableBg:s,msgBubbleBgBot:r,msgBubbleColorBot:l,msgBubbleBgUser:b,msgBubbleColorUser:c}=this.options,u=`\n<style type="text/css" id="qkb-bot-style">\n.qkb-bubble-btn {\n  background-color: ${t};\n  width: ${o}px;\n  height: ${o}px;\n}\n.qkb-bubble-btn-icon {\n  fill: ${e};\n  color: ${e};\n}\n.qkb-board {\n  bottom: ${o}px;\n}\n.qkb-board-header {\n  background-color: ${t};\n}\n.qkb-board-header__title {\n  color: ${e};\n}\n.qkb-board-header__full-screen-icon {\n  fill: ${e}\n}\n.qkb-board-content {\n  background-color: ${n};\n}\n${a?`.qkb-msg-avatar {\n      width: ${i}px;\n      height: ${i}px;\n    }\n    .qkb-msg-avatar__img {\n      background-image: url(${a});\n    }`:""}\n.qkb-msg-bubble--bot .qkb-msg-bubble-component__text {\n  color: ${l};\n  background-color: ${r};\n}\n.qkb-msg-bubble__typing-indicator span,\n.qkb-msg-bubble__typing-indicator::before,\n.qkb-msg-bubble__typing-indicator::after {\n  background-color: ${l};\n}\n.qkb-msg-bubble-component_copy-button {\n  color: ${b};\n  border-color: ${b};\n}\n.qkb-msg-bubble-component_copy-button:hover {\n  color: ${c};\n  background-color: ${b};\n}\n.qkb-mb-button-options__btn::before {\n  background-color: ${b};\n}\n.qkb-msg-bubble--user .qkb-msg-bubble-component__text {\n  color: ${c};\n  background-color: ${b};\n}\n.qkb-mb-button-options__btn {\n  color: ${b};\n  border-color: ${b};\n}\n.qkb-mb-button-options__btn:hover {\n  color: ${c};\n  background-color: ${b};\n}\n.qkb-board-action--disabled::before {\n  background-color: ${s};\n}\n</style>\n      `;return u}}},st=it,rt=h(st,ot,at,!1,null,null,null),lt=rt.exports,bt={functional:!0,render(t,e){const{_c:n,_v:o,data:a,children:i=[]}=e,{class:s,staticClass:r,style:l,staticStyle:b,attrs:c={},...u}=a;return n("svg",{class:[s,r],style:[l,b],attrs:Object.assign({height:"511pt",viewBox:"1 -31 512 511",width:"511pt",xmlns:"http://www.w3.org/2000/svg"},c),...u},i.concat([n("path",{attrs:{d:"M128 448.5c-8.836 0-16-7.164-16-16v-80H48c-26.512 0-48-21.492-48-48v-256C0 21.988 21.488.5 48 .5h416c26.512 0 48 21.488 48 48v256c0 26.508-21.488 48-48 48H230.625l-91.313 91.313c-3 3-7.07 4.687-11.312 4.687zm-80-416c-8.836 0-16 7.164-16 16v256c0 8.836 7.164 16 16 16h80c8.836 0 16 7.164 16 16v57.375l68.688-68.688c3-3 7.07-4.687 11.312-4.687h240c8.836 0 16-7.164 16-16v-256c0-8.836-7.164-16-16-16zm0 0"}}),n("path",{attrs:{d:"M160 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M352 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M256 288.5c-52.996-.05-95.945-43.004-96-96 0-8.836 7.164-16 16-16s16 7.164 16 16c0 35.348 28.652 64 64 64s64-28.652 64-64c0-8.836 7.164-16 16-16s16 7.164 16 16c-.055 52.996-43.004 95.945-96 96zm0 0"}})]))}},ct={functional:!0,render(t,e){const{_c:n,_v:o,data:a,children:i=[]}=e,{class:s,staticClass:r,style:l,staticStyle:b,attrs:c={},...u}=a;return n("svg",{class:[s,r],style:[l,b],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001"},c),...u},i.concat([n("path",{attrs:{d:"M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0014.143 5.857 19.94 19.94 0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"}})]))}},ut={name:"VueBotUI",components:{BoardHeader:y,BoardContent:K,BoardAction:nt,BubbleIcon:bt,CloseIcon:ct,AppStyle:lt},props:{options:{type:Object,default:()=>({})},messages:{type:Array},botTyping:{type:Boolean,default:!1},inputDisable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},showCopyButton:{type:Boolean,default:!0},allowFullscreenMode:{type:Boolean,default:!0}},data(){return{botActive:!1,fullScreenMode:!1,defaultOptions:{botTitle:"Chatbot",colorScheme:"#1b53d0",textColor:"#fff",bubbleBtnSize:56,animation:!0,boardContentBg:"#fff",botAvatarSize:32,botAvatarImg:"http://placehold.it/200x200",msgBubbleBgBot:"#f0f0f0",msgBubbleColorBot:"#000",msgBubbleBgUser:"#4356e0",msgBubbleColorUser:"#fff",inputPlaceholder:"Message",inputDisableBg:"#fff",inputDisablePlaceholder:null}}},computed:{optionsMain(){return{...this.defaultOptions,...this.options}},uiClasses(){let t=[];return this.optionsMain.animation&&t.push("qkb-bot-ui--animate"),t}},created(){this.initBot()},mounted(){c.$on("select-button-option",this.selectOption)},beforeDestroy(){c.$off("select-button-option")},methods:{initBot(){this.isOpen&&(this.botActive=!0),this.$emit("init")},botToggle(){this.botActive=!this.botActive,this.botActive?(this.$emit("open"),this.$refs.board&&setTimeout(()=>{this.$refs.board.classList.remove("apply-transition")},500)):this.$emit("destroy")},sendMessage(t){this.$emit("msg-send",t)},applyFullScreenMode(t){this.fullScreenMode=t,this.$refs.board&&setTimeout(()=>{this.$refs.board.classList.remove("apply-transition")},500)},selectOption(t){this.$emit("msg-send",t)}}},pt=ut,dt=(n("4647"),h(pt,i,s,!1,null,null,null)),mt=dt.exports;const ft={install(t){t.component("VueChatBot",mt),"undefined"!==typeof window&&window.Vue&&window.Vue.use(ft)}};var gt=ft;e["default"]=gt}})}));